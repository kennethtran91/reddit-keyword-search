# Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER BROWSER                                â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              React Dashboard (Port 3000)                       â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚  â”‚  Stats   â”‚  â”‚  Filters â”‚  â”‚  Leads   â”‚  â”‚ Actions  â”‚     â”‚ â”‚
â”‚  â”‚  â”‚  Cards   â”‚  â”‚  Status  â”‚  â”‚  List    â”‚  â”‚ Buttons  â”‚     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  ğŸ”„ Auto-updates via WebSocket                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                      â”‚
                   â”‚ HTTP REST API        â”‚ WebSocket
                   â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Node.js Backend (Port 3001)                      â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Express Server                             â”‚  â”‚
â”‚  â”‚  â€¢ REST API Endpoints                                        â”‚  â”‚
â”‚  â”‚  â€¢ WebSocket Server (ws)                                     â”‚  â”‚
â”‚  â”‚  â€¢ CORS enabled                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Monitoring Service (node-cron)                  â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  Cron Job: "*/30 * * * *" (every 30 minutes)                â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚ Search   â”‚ â†’ â”‚ Analyze  â”‚ â†’ â”‚ Broadcastâ”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Reddit   â”‚   â”‚ with AI  â”‚   â”‚ to Clientsâ”‚               â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     Service Layer                            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚ RedditAPI    â”‚  â”‚ GeminiServiceâ”‚  â”‚  Database    â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ (Public JSON)â”‚  â”‚  (AI Analysis)â”‚  â”‚  (SQLite)    â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                  â”‚                  â”‚
           â”‚                  â”‚                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Reddit    â”‚   â”‚  Gemini AI    â”‚   â”‚   SQLite     â”‚
    â”‚  Public API â”‚   â”‚     API       â”‚   â”‚   Database   â”‚
    â”‚ (no auth!)  â”‚   â”‚  (AI Analysis)â”‚   â”‚ (Persistent) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. Automated Search Flow

```
Every 30 minutes (Cron Job)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Monitoring Service â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   For each keyword  â”‚
â”‚   in each subreddit â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reddit API (Public JSON)   â”‚
â”‚ /r/{subreddit}/search.json â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ (new posts only)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gemini AI         â”‚
â”‚  Analyze Post      â”‚
â”‚  â€¢ Score (0-100)   â”‚
â”‚  â€¢ Reasoning       â”‚
â”‚  â€¢ Pain Points     â”‚
â”‚  â€¢ Urgency         â”‚
â”‚  â€¢ Recommendation  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ (if score â‰¥ threshold)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save to Database  â”‚
â”‚  â€¢ Post data       â”‚
â”‚  â€¢ AI analysis     â”‚
â”‚  â€¢ Status: "new"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WebSocket Broadcastâ”‚
â”‚  â†’ All Clients     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard Updates â”‚
â”‚  Lead appears!     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. User Interaction Flow

```
User Opens Dashboard
         â”‚
         â–¼
GET /api/leads
GET /api/stats
GET /api/monitoring/status
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Display Leads     â”‚
â”‚  â€¢ Sorted by score â”‚
â”‚  â€¢ Color coded     â”‚
â”‚  â€¢ With filters    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
User clicks "Mark Contacted"
         â”‚
         â–¼
PATCH /api/leads/:id
{ status: "contacted" }
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update Database    â”‚
â”‚ â€¢ lead_status      â”‚
â”‚ â€¢ contacted_at     â”‚
â”‚ â€¢ updated_at       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return to Frontend â”‚
â”‚ Refresh lead list  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Real-Time Update Flow

```
New Lead Found (score â‰¥ threshold)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ monitoringService      â”‚
â”‚ .onNewLead() callback  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ broadcastNewLead()     â”‚
â”‚ Create WebSocket msg   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Send to all WS clients â”‚
â”‚ { type: "NEW_LEAD",    â”‚
â”‚   data: { ... } }      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React useEffect        â”‚
â”‚ ws.onmessage handler   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ setLeads([new, ...old])â”‚
â”‚ Dashboard shows new leadâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Relationships

### Backend Components

```
server-new.js
    â”œâ”€â”€ Imports & initializes:
    â”‚   â”œâ”€â”€ MonitoringService
    â”‚   â”‚   â”œâ”€â”€ RedditAPI
    â”‚   â”‚   â”œâ”€â”€ GeminiService
    â”‚   â”‚   â””â”€â”€ Database
    â”‚   â””â”€â”€ Database (for API endpoints)
    â”‚
    â”œâ”€â”€ Express Routes:
    â”‚   â”œâ”€â”€ GET  /api/leads
    â”‚   â”œâ”€â”€ GET  /api/leads/:id
    â”‚   â”œâ”€â”€ PATCH /api/leads/:id
    â”‚   â”œâ”€â”€ GET  /api/stats
    â”‚   â”œâ”€â”€ GET  /api/health
    â”‚   â”œâ”€â”€ GET  /api/monitoring/status
    â”‚   â”œâ”€â”€ POST /api/monitoring/search
    â”‚   â””â”€â”€ PATCH /api/monitoring/config
    â”‚
    â””â”€â”€ WebSocket Server:
        â””â”€â”€ Broadcasts new leads
```

### Frontend Components

```
App.js (Main Component)
    â”œâ”€â”€ State:
    â”‚   â”œâ”€â”€ leads[]
    â”‚   â”œâ”€â”€ stats{}
    â”‚   â”œâ”€â”€ monitoringStatus{}
    â”‚   â”œâ”€â”€ filter
    â”‚   â”œâ”€â”€ minScore
    â”‚   â””â”€â”€ loading
    â”‚
    â”œâ”€â”€ Effects:
    â”‚   â”œâ”€â”€ WebSocket connection
    â”‚   â”œâ”€â”€ Initial data fetch
    â”‚   â””â”€â”€ Periodic stats refresh
    â”‚
    â”œâ”€â”€ Functions:
    â”‚   â”œâ”€â”€ fetchLeads()
    â”‚   â”œâ”€â”€ fetchStats()
    â”‚   â”œâ”€â”€ fetchMonitoringStatus()
    â”‚   â”œâ”€â”€ updateLeadStatus()
    â”‚   â””â”€â”€ triggerManualSearch()
    â”‚
    â””â”€â”€ Render:
        â”œâ”€â”€ Header
        â”œâ”€â”€ Stats Cards
        â”œâ”€â”€ Monitoring Status
        â”œâ”€â”€ Filters
        â””â”€â”€ Leads List
            â””â”€â”€ Lead Card (for each lead)
                â”œâ”€â”€ Score badge
                â”œâ”€â”€ Urgency badge
                â”œâ”€â”€ Title & content
                â”œâ”€â”€ AI analysis
                â”œâ”€â”€ Pain points
                â””â”€â”€ Action buttons
```

## Database Schema

```
posts
â”œâ”€â”€ id (TEXT, PRIMARY KEY)
â”œâ”€â”€ title (TEXT)
â”œâ”€â”€ selftext (TEXT)
â”œâ”€â”€ author (TEXT)
â”œâ”€â”€ subreddit (TEXT)
â”œâ”€â”€ score (INTEGER)
â”œâ”€â”€ num_comments (INTEGER)
â”œâ”€â”€ created_utc (INTEGER)
â”œâ”€â”€ url (TEXT)
â”œâ”€â”€ permalink (TEXT)
â”œâ”€â”€ search_query (TEXT)
â”œâ”€â”€ created_at (DATETIME)
â”œâ”€â”€ analyzed (INTEGER)
â”œâ”€â”€ ai_score (INTEGER) â†â”€â”€â”€â”€â”
â”œâ”€â”€ ai_reasoning (TEXT)      â”‚ AI Analysis
â”œâ”€â”€ ai_recommendation (TEXT) â”‚ Results
â”œâ”€â”€ ai_should_reach (TEXT)   â”‚
â”œâ”€â”€ ai_pain_points (TEXT)    â”‚ JSON array
â”œâ”€â”€ ai_urgency (TEXT) â†â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€ lead_status (TEXT) â†â”€â”€â”€â”€â”€â”
â”œâ”€â”€ lead_notes (TEXT)        â”‚ Lead
â”œâ”€â”€ contacted_at (DATETIME)  â”‚ Management
â””â”€â”€ updated_at (DATETIME) â†â”€â”€â”˜

Indexes:
â”œâ”€â”€ idx_analyzed
â”œâ”€â”€ idx_ai_score
â”œâ”€â”€ idx_search_query
â”œâ”€â”€ idx_subreddit
â”œâ”€â”€ idx_lead_status
â””â”€â”€ idx_created_at
```

## Configuration Flow

```
config.json
    â”œâ”€â”€ monitoringKeywords[] â”€â”€â”€â”€â”€â”
    â”œâ”€â”€ monitoringSubreddits[] â”€â”€â”€â”¤
    â”œâ”€â”€ monitoringInterval â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â†’ Used by MonitoringService
    â””â”€â”€ minScoreThreshold â”€â”€â”€â”€â”€â”€â”€â”€â”˜

.env
    â”œâ”€â”€ GEMINI_API_KEY â”€â”€â”€â”€â”€â”€â†’ GeminiService
    â””â”€â”€ PORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Server

client/.env
    â”œâ”€â”€ REACT_APP_API_URL â”€â”€â”€â†’ React API calls
    â””â”€â”€ REACT_APP_WS_URL â”€â”€â”€â”€â†’ WebSocket connection
```

## Tech Stack

```
Frontend:
â”œâ”€â”€ React 18
â”œâ”€â”€ Tailwind CSS
â”œâ”€â”€ WebSocket (native)
â””â”€â”€ Fetch API

Backend:
â”œâ”€â”€ Node.js
â”œâ”€â”€ Express
â”œâ”€â”€ WebSocket (ws)
â”œâ”€â”€ node-cron
â””â”€â”€ CORS

Services:
â”œâ”€â”€ Axios (HTTP client)
â”œâ”€â”€ better-sqlite3
â”œâ”€â”€ @google/genai (Gemini AI)
â””â”€â”€ dotenv

External APIs:
â”œâ”€â”€ Reddit Public JSON API (no auth)
â””â”€â”€ Google Gemini AI API (free tier)
```

## Process Lifecycle

```
npm start
    â”‚
    â–¼
Load .env & config.json
    â”‚
    â–¼
Initialize Services
    â”‚
    â”œâ”€â†’ Database (SQLite)
    â”‚   â””â”€â†’ Create tables if needed
    â”‚
    â”œâ”€â†’ Gemini AI
    â”‚   â””â”€â†’ Check API key
    â”‚
    â”œâ”€â†’ Reddit API
    â”‚   â””â”€â†’ Ready (no auth needed)
    â”‚
    â””â”€â†’ Monitoring Service
        â””â”€â†’ Load config
    â”‚
    â–¼
Start Express Server (Port 3001)
    â”‚
    â”œâ”€â†’ Setup routes
    â”œâ”€â†’ Start WebSocket server
    â””â”€â†’ Enable CORS
    â”‚
    â–¼
Start Monitoring Service
    â”‚
    â”œâ”€â†’ Run initial search immediately
    â””â”€â†’ Schedule cron job (every 30 min)
    â”‚
    â–¼
Server Running âœ“
    â”‚
    â”œâ”€â†’ Cron triggers searches
    â”œâ”€â†’ API handles requests
    â”œâ”€â†’ WebSocket broadcasts updates
    â””â”€â†’ Database stores everything
    â”‚
    â–¼
SIGINT (Ctrl+C)
    â”‚
    â”œâ”€â†’ Stop monitoring service
    â”œâ”€â†’ Close database connection
    â””â”€â†’ Shutdown server
```

---

This architecture provides:

- âœ… Automated operation
- âœ… Real-time updates
- âœ… Persistent storage
- âœ… Scalable design
- âœ… Clean separation of concerns
