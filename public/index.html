<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reddit Lead Finder - AI Interview Prep</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#6366f1',
            secondary: '#8b5cf6',
          }
        }
      }
    }
  </script>
  <style>
    .preset-btn {
      @apply px-4 py-2 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 rounded-lg hover:from-indigo-100 hover:to-purple-100 transition font-medium text-sm flex items-center gap-2 border border-indigo-200;
    }

    .filter-btn {
      @apply px-4 py-2 rounded-lg font-medium text-sm transition border-2 border-transparent;
    }

    .filter-btn.active {
      @apply bg-indigo-100 text-indigo-700 border-indigo-300;
    }

    .filter-btn:not(.active) {
      @apply bg-white text-gray-600 hover:bg-gray-50;
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <!-- Header -->
  <header class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl md:text-3xl font-bold flex items-center gap-3">
            <i class="fas fa-search-dollar"></i>
            Reddit Lead Finder
          </h1>
          <p class="text-indigo-100 mt-1 text-sm md:text-base">Find people who need AI Interview Prep</p>
        </div>
        <div class="flex gap-3">
          <button id="viewLeadsBtn"
            class="bg-white text-indigo-600 px-3 md:px-4 py-2 rounded-lg font-semibold hover:bg-indigo-50 transition flex items-center gap-2 text-sm md:text-base">
            <i class="fas fa-users"></i>
            <span class="hidden md:inline">Saved</span> (<span id="leadCount">0</span>)
          </button>
          <button id="exportLeadsBtn"
            class="bg-indigo-500 text-white px-3 md:px-4 py-2 rounded-lg font-semibold hover:bg-indigo-400 transition flex items-center gap-2 text-sm md:text-base">
            <i class="fas fa-download"></i>
            <span class="hidden md:inline">Export</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="max-w-7xl mx-auto px-4 py-6">
    <!-- Quick Presets -->
    <div class="bg-white rounded-lg shadow-md p-4 mb-6">
      <h3 class="font-semibold text-gray-700 mb-3 flex items-center gap-2">
        <i class="fas fa-bolt text-yellow-500"></i>
        Quick Search Presets for Interview Prep
      </h3>
      <div class="flex flex-wrap gap-2">
        <button class="preset-btn" data-search="interview preparation,prepare for interview"
          data-subreddit="cscareerquestions">
          <i class="fas fa-briefcase"></i> Interview Prep
        </button>
        <button class="preset-btn" data-search="technical interview,coding interview"
          data-subreddit="cscareerquestions">
          <i class="fas fa-code"></i> Tech Interview
        </button>
        <button class="preset-btn" data-search="mock interview,practice interview" data-subreddit="all">
          <i class="fas fa-user-tie"></i> Mock Interview
        </button>
        <button class="preset-btn" data-search="interview tips,interview help,interview advice" data-subreddit="jobs">
          <i class="fas fa-question-circle"></i> Interview Help
        </button>
        <button class="preset-btn" data-search="nervous about interview,scared of interview"
          data-subreddit="careerguidance">
          <i class="fas fa-heart"></i> Interview Anxiety
        </button>
        <button class="preset-btn" data-search="behavioral interview,system design interview"
          data-subreddit="cscareerquestions">
          <i class="fas fa-sitemap"></i> Specific Interviews
        </button>
      </div>
    </div>

    <!-- Search Form -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
        <i class="fas fa-search"></i>
        Search Reddit
      </h2>

      <div class="space-y-4">
        <div>
          <label for="keywords" class="block text-sm font-semibold text-gray-700 mb-2">
            Keywords (one per line or comma-separated)
          </label>
          <textarea id="keywords"
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none transition"
            placeholder="interview preparation&#10;mock interview&#10;coding interview tips" rows="4"></textarea>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          <div>
            <label for="subreddit" class="block text-sm font-semibold text-gray-700 mb-2">
              Subreddit
            </label>
            <input type="text" id="subreddit"
              class="w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none transition"
              placeholder="all" value="all">
            <p class="text-xs text-gray-500 mt-1">Try: cscareerquestions, jobs, careeradvice</p>
          </div>

          <div>
            <label for="sort" class="block text-sm font-semibold text-gray-700 mb-2">
              Sort by
            </label>
            <select id="sort"
              class="w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none transition">
              <option value="new">New (Best for leads)</option>
              <option value="relevance">Relevance</option>
              <option value="hot">Hot</option>
              <option value="top">Top</option>
              <option value="comments">Comments</option>
            </select>
          </div>

          <div>
            <label for="time" class="block text-sm font-semibold text-gray-700 mb-2">
              Time range
            </label>
            <select id="time"
              class="w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none transition">
              <option value="day">Past 24 hours</option>
              <option value="week">Past week</option>
              <option value="month">Past month</option>
              <option value="year">Past year</option>
              <option value="all">All time</option>
            </select>
          </div>

          <div>
            <label for="limit" class="block text-sm font-semibold text-gray-700 mb-2">
              Results
            </label>
            <select id="limit"
              class="w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none transition">
              <option value="25">25 results</option>
              <option value="50">50 results</option>
              <option value="75">75 results</option>
              <option value="100">100 results</option>
            </select>
          </div>
        </div>

        <div class="flex gap-3">
          <button id="searchBtn"
            class="flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 shadow-lg">
            <i class="fas fa-search"></i>
            <span class="btn-text">Find Leads</span>
            <span class="btn-loading hidden">
              <i class="fas fa-spinner fa-spin"></i> Searching...
            </span>
          </button>
          <button id="clearBtn"
            class="px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-100 transition">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Results Section -->
    <div id="results">
      <div class="text-center text-gray-500 py-12">
        <i class="fas fa-search text-4xl mb-4"></i>
        <p>Enter a search term to find potential leads</p>
      </div>
    </div>
  </div>

  <!-- Leads Modal -->
  <div id="leadsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
    <div class="bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden">
      <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4 flex items-center justify-between">
        <h2 class="text-2xl font-bold flex items-center gap-2">
          <i class="fas fa-users"></i>
          Saved Leads
        </h2>
        <button id="closeLeadsModal" class="text-white hover:text-gray-200 text-2xl">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="p-4 border-b border-gray-200 bg-gray-50">
        <div class="flex gap-3 flex-wrap">
          <button class="filter-btn active" data-filter="all">
            <i class="fas fa-list"></i> All (<span id="countAll">0</span>)
          </button>
          <button class="filter-btn" data-filter="new">
            <i class="fas fa-star"></i> New (<span id="countNew">0</span>)
          </button>
          <button class="filter-btn" data-filter="contacted">
            <i class="fas fa-comment"></i> Contacted (<span id="countContacted">0</span>)
          </button>
          <button class="filter-btn" data-filter="interested">
            <i class="fas fa-heart"></i> Interested (<span id="countInterested">0</span>)
          </button>
          <button class="filter-btn" data-filter="not-interested">
            <i class="fas fa-times-circle"></i> Not Interested (<span id="countNotInterested">0</span>)
          </button>
        </div>
      </div>

      <div id="leadsListContainer" class="overflow-y-auto p-4" style="max-height: calc(90vh - 200px);">
        <div id="leadsList"></div>
        <div id="emptyLeads" class="text-center py-12 text-gray-500 hidden">
          <i class="fas fa-inbox text-6xl mb-4 text-gray-300"></i>
          <p class="text-lg">No leads saved yet</p>
          <p class="text-sm mt-2">Search and save potential leads to track them here</p>
        </div>
      </div>
    </div>
  </div>

  <script src="leads.js"></script>
  <script src="app.js"></script>
</body>

</html>